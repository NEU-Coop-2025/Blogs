# The IP Address Dilemma

For decades, and for the forseeable years to come, the internet has ran on a simple exchange: provide your IP address, and you get to proceed/use the service. This "digital return address" is essential for routing traffic, but it's also a foundational tool for security, moderation, and analytics.

The problem? That same IP address is a serious privacy risk. As technology and privacy laws evolve, the practice of logging raw IPs is becoming a significant liability.

An IP address, on its own, may not have your name on it, but it is legally considered personal data in many key jurisdictions. Take the GDPR in Europe for example, automatically treats IP addresses as Personally Identifiable Information (PII). "Natural persons may be associated with online identifiers provided by their devices, applications, tools and protocols, such as internet protocol addresses, cookie identifiers or other identifiers such as radio frequency identification tags." [GDPR Recital 30](https://gdpr-info.eu/recitals/no-30/). In the case of CCPA from California, IP addresses are only treated as PII if it "identifies, relates to, describes, is reasonably capable of being associated with, or could reasonably be linked, directly or indirectly, with a particular consumer or household." Nonetheless, IP addresses are and should be regulated as it is an important piece of information.

This creates a conflicting dilemma for companies and social media moderators, as IP addresses are essential to defenses against spam, fraud, and other illegal activites. While taking the introductory cybersecurity course, the professor talked about the "secrets" users provide to systems in order to gain access to their accounts, with one of them being IP addresses, or "where you are". When a user attempts to commit spam or fraud, the IP address is used to prevent these actions (as much as possible). In the case of harassments, IP addresses are also used to prevent banned users from simply creating a new account and coming back to the platform unharmed.

In Mastodon, the users often have to give their "blind" trust in their server admins, who are usually just one person or a small team. Now they have access to your login IP, this data is, as talked about above, a PII of the users, and if leaked or misused, could be used to identify you and connect your pseudonymous account to your real-world location. Another thing that the administrators have control over is the length of the retention of IP addresses. The retention of IP addresses is set to a default time of 12 months, which complies with the GDPR principle of data minimization. However, as Mastodon is open-source, any fork of it can change the rentention time, meaning individual forks might choose to store IP addresses for longer and therefore, harming the users' privacy.

Looking at the legal laws on data retention of IP addresses, the state is not so great. In the European Union, the GDPR states that the collection of IP addresses must have a clear legal basis and must not hold it for longer than strictly necessary. In the United States, there are no federal data retention laws, and, currently, as far as my knowledge goes, only CCPA has certain laws on the retention of IP addresses. This lack of clarity in the privacy laws regarding IP addresses means that the retention policies of different platforms are all over the place, from services that delete IP addresses after 24 hours to those that potentially hold it for as long as their software runs.

Obviously, brilliant researchers have been researching about the solutions of how we can solve the issue of IP addresses, and the most complex yet the most seemingly complete solution is homomorphic encryption. Homomorphic encryption is this new innovative technology that empowers zero-trust in any scenario. It encrypts the information before anyone knows what's behind the information. For example, in our case of IP addresses, the server does not gain knowledge of the user's IP address right away. Instead, the IP address is encrypted immediately. Therefore, this encrypted IP address can be shared, analyzed, and stored anywhere without the risk of it being exposed. This way, the server can store a list of blacklisted or fraudulent IP addresses without the risk of it being exposed. Even if it is exposed, it is already encrypted and will not harm anyone's privacy. When administrators try and identify whether a user is fraudulent or blacklisted, they only have to ask whether the encrypted IP address they get matches any of the encrypted IP addresses on their blacklist. If it does, they get an encrypted yes or no address, then they can act upon that result. In this whole process, no one — not the server, not the cloud, not the administrator, not the users — see the actual IP addresses of any users.
